import { MongoClient, Document } from 'mongodb';

const ARCHETYPES = [
  {
    _id: 'techwear',
    name: 'Techwear',
    description: 'Functional, futuristic clothing with technical fabrics. Urban ninja aesthetic.',
    keywords: ['tech', 'functional', 'futuristic', 'minimal', 'black', 'urban', 'ninja', 'cyberpunk'],
    color_palettes: [['#000000', '#1a1a1a', '#333333', '#00ff00']],
    example_brands: ['Acronym', "Arc'teryx Veilance", 'Stone Island Shadow Project', 'Y-3'],
  },
  {
    _id: 'quiet-luxury',
    name: 'Quiet Luxury',
    description: 'Understated elegance. Quality over logos. The old money aesthetic.',
    keywords: ['elegant', 'understated', 'quality', 'timeless', 'neutral', 'sophisticated', 'refined'],
    color_palettes: [['#f5f5dc', '#d4c5a9', '#8b7355', '#2f2f2f']],
    example_brands: ['The Row', 'Loro Piana', 'Brunello Cucinelli', 'Zegna'],
  },
  {
    _id: 'streetwear',
    name: 'Streetwear',
    description: 'Bold, expressive, culture-driven. Sneakers, hoodies, statement pieces.',
    keywords: ['bold', 'expressive', 'hype', 'sneakers', 'graphic', 'urban', 'culture', 'drops'],
    color_palettes: [['#ff0000', '#000000', '#ffffff', '#ffd700']],
    example_brands: ['Supreme', 'Off-White', 'A Bathing Ape', 'Stüssy'],
  },
  {
    _id: 'minimalist',
    name: 'Minimalist',
    description: 'Clean lines, neutral colors, capsule wardrobe mentality.',
    keywords: ['clean', 'simple', 'neutral', 'capsule', 'essential', 'modern', 'scandinavian'],
    color_palettes: [['#ffffff', '#f0f0f0', '#000000', '#808080']],
    example_brands: ['COS', 'Everlane', 'Uniqlo U', 'Arket'],
  },
  {
    _id: 'avant-garde',
    name: 'Avant-Garde',
    description: 'Experimental, artistic, boundary-pushing fashion as art.',
    keywords: ['experimental', 'artistic', 'deconstructed', 'asymmetric', 'dramatic', 'unique'],
    color_palettes: [['#000000', '#ffffff', '#8b0000', '#4a4a4a']],
    example_brands: ['Rick Owens', 'Comme des Garçons', 'Yohji Yamamoto', 'Maison Margiela'],
  },
  {
    _id: 'classic-prep',
    name: 'Classic Prep',
    description: 'Timeless Ivy League style. Polo shirts, chinos, boat shoes.',
    keywords: ['preppy', 'classic', 'ivy', 'traditional', 'collegiate', 'nautical', 'conservative'],
    color_palettes: [['#1e3a5f', '#ffffff', '#8b0000', '#f0e68c']],
    example_brands: ['Ralph Lauren', 'Brooks Brothers', 'J.Crew', 'Vineyard Vines'],
  },
  {
    _id: 'athleisure',
    name: 'Athleisure',
    description: 'Performance meets lifestyle. Gym-to-street versatility.',
    keywords: ['athletic', 'comfortable', 'sporty', 'performance', 'casual', 'active'],
    color_palettes: [['#000000', '#ffffff', '#ff6b35', '#4ecdc4']],
    example_brands: ['Lululemon', 'Nike', 'Alo Yoga', 'Outdoor Voices'],
  },
  {
    _id: 'old-money',
    name: 'Old Money',
    description: 'Inherited wealth aesthetic. Timeless, expensive-looking without trying.',
    keywords: ['wealthy', 'refined', 'timeless', 'european', 'inherited', 'effortless'],
    color_palettes: [['#f5f5dc', '#8b7355', '#1e3a5f', '#ffffff']],
    example_brands: ['Brunello Cucinelli', 'Loro Piana', 'Ralph Lauren Purple Label', 'Hermès'],
  },
];

const PRODUCTS = [
  // MALE PRODUCTS
  // Techwear - Male
  {
    _id: 'acronym-j1a',
    name: 'J1A-GTKP Jacket',
    brand: 'Acronym',
    category: 'Outerwear',
    price: 1800,
    style_archetypes: ['techwear', 'avant-garde'],
    description: 'The iconic Acronym jacket. GORE-TEX Pro, modular design, urban armor.',
    image_url: 'https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400',
    buy_link: 'https://acrnm.com/',
    gender: 'male',
    weight: 'medium',
    colors: ['black', 'gray'],
  },
  {
    _id: 'arcteryx-veilance-blazer',
    name: 'Veilance Indisce Blazer',
    brand: "Arc'teryx Veilance",
    category: 'Outerwear',
    price: 850,
    style_archetypes: ['techwear', 'minimalist', 'quiet-luxury'],
    description: 'Technical blazer that works in the boardroom and the rain.',
    image_url: 'https://images.unsplash.com/photo-1594938298603-c8148c4dae35?w=400',
    buy_link: 'https://veilance.com/',
    gender: 'male',
    weight: 'medium',
    colors: ['navy', 'black', 'charcoal'],
  },
  {
    _id: 'nike-acg-pants',
    name: 'ACG Cargo Pants',
    brand: 'Nike ACG',
    category: 'Bottoms',
    price: 180,
    style_archetypes: ['techwear', 'streetwear', 'athleisure'],
    description: 'Trail-ready cargos with urban appeal. Durable and functional.',
    image_url: 'https://images.unsplash.com/photo-1624378439575-d8705ad7ae80?w=400',
    buy_link: 'https://nike.com/',
    gender: 'unisex',
    weight: 'medium',
    colors: ['black', 'olive', 'khaki'],
  },
  // Quiet Luxury - Male
  {
    _id: 'cucinelli-cashmere-crew',
    name: 'Cashmere Crew Sweater',
    brand: 'Brunello Cucinelli',
    category: 'Tops',
    price: 1290,
    style_archetypes: ['quiet-luxury', 'old-money', 'minimalist'],
    description: 'Whisper-soft cashmere. The tech founder uniform. No logos, just quality.',
    image_url: 'https://images.unsplash.com/photo-1620799140408-edc6dcb6d633?w=400',
    buy_link: 'https://brunellocucinelli.com/',
    gender: 'male',
    weight: 'medium',
    colors: ['gray', 'navy', 'cream', 'camel'],
  },
  {
    _id: 'loro-piana-loafers-m',
    name: 'Summer Walk Loafers',
    brand: 'Loro Piana',
    category: 'Footwear',
    price: 895,
    style_archetypes: ['quiet-luxury', 'old-money', 'classic-prep'],
    description: 'The ultimate quiet flex. IYKYK.',
    image_url: 'https://images.unsplash.com/photo-1614252369475-531eba835eb1?w=400',
    buy_link: 'https://loropiana.com/',
    gender: 'male',
    weight: 'light',
    colors: ['tan', 'navy', 'chocolate'],
  },
  {
    _id: 'zegna-tshirt',
    name: 'Premium Cotton T-Shirt',
    brand: 'Ermenegildo Zegna',
    category: 'Tops',
    price: 295,
    style_archetypes: ['quiet-luxury', 'minimalist', 'old-money'],
    description: 'The $300 t-shirt that actually feels worth it. Perfect gray.',
    image_url: 'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400',
    buy_link: 'https://zegna.com/',
    gender: 'male',
    weight: 'light',
    colors: ['gray', 'white', 'navy', 'black'],
  },
  // Streetwear - Male
  {
    _id: 'supreme-box-logo',
    name: 'Box Logo Hoodie',
    brand: 'Supreme',
    category: 'Tops',
    price: 168,
    style_archetypes: ['streetwear'],
    description: 'The grail. Box logo speaks for itself.',
    image_url: 'https://images.unsplash.com/photo-1556821840-3a63f95609a7?w=400',
    buy_link: 'https://supremenewyork.com/',
    gender: 'unisex',
    weight: 'medium',
    colors: ['gray', 'black', 'red', 'navy'],
  },
  {
    _id: 'jordan-1-chicago',
    name: 'Air Jordan 1 Retro High OG',
    brand: 'Nike/Jordan',
    category: 'Footwear',
    price: 180,
    style_archetypes: ['streetwear', 'athleisure'],
    description: 'The most iconic sneaker ever made. Period.',
    image_url: 'https://images.unsplash.com/photo-1600269452121-4f2416e55c28?w=400',
    buy_link: 'https://nike.com/',
    gender: 'unisex',
    weight: 'medium',
    colors: ['red', 'white', 'black'],
  },
  {
    _id: 'stussy-tee',
    name: 'Basic Logo Tee',
    brand: 'Stüssy',
    category: 'Tops',
    price: 45,
    style_archetypes: ['streetwear', 'minimalist'],
    description: 'OG streetwear staple. Simple but unmistakable.',
    image_url: 'https://images.unsplash.com/photo-1576566588028-4147f3842f27?w=400',
    buy_link: 'https://stussy.com/',
    gender: 'unisex',
    weight: 'light',
    colors: ['white', 'black', 'gray'],
  },
  // Developer/Comfort - Male
  {
    _id: 'patagonia-better-sweater',
    name: 'Better Sweater Fleece',
    brand: 'Patagonia',
    category: 'Tops',
    price: 139,
    style_archetypes: ['athleisure', 'minimalist'],
    description: 'The tech industry uniform. Zoom-call approved.',
    image_url: 'https://images.unsplash.com/photo-1591047139829-d91aecb6caea?w=400',
    buy_link: 'https://patagonia.com/',
    gender: 'male',
    weight: 'medium',
    colors: ['navy', 'gray', 'black', 'green'],
  },
  {
    _id: 'allbirds-wool-runners-m',
    name: 'Wool Runners',
    brand: 'Allbirds',
    category: 'Footwear',
    price: 98,
    style_archetypes: ['minimalist', 'athleisure'],
    description: 'Sustainable comfort. Every developer has a pair.',
    image_url: 'https://images.unsplash.com/photo-1539185441755-769473a23570?w=400',
    buy_link: 'https://allbirds.com/',
    gender: 'male',
    weight: 'light',
    colors: ['gray', 'black', 'navy'],
  },

  // FEMALE PRODUCTS
  // Quiet Luxury - Female
  {
    _id: 'the-row-cashmere-f',
    name: 'Sibem Cashmere Sweater',
    brand: 'The Row',
    category: 'Tops',
    price: 1890,
    style_archetypes: ['quiet-luxury', 'old-money', 'minimalist'],
    description: 'Olsen twins approved. The epitome of understated luxury.',
    image_url: 'https://images.unsplash.com/photo-1434389677669-e08b4cac3105?w=400',
    buy_link: 'https://therow.com/',
    gender: 'female',
    weight: 'medium',
    colors: ['ivory', 'camel', 'gray', 'black'],
  },
  {
    _id: 'loro-piana-coat-f',
    name: 'Cashmere Wrap Coat',
    brand: 'Loro Piana',
    category: 'Outerwear',
    price: 5900,
    style_archetypes: ['quiet-luxury', 'old-money'],
    description: 'Investment outerwear. Timeless elegance.',
    image_url: 'https://images.unsplash.com/photo-1548624313-0396c75e4b1a?w=400',
    buy_link: 'https://loropiana.com/',
    gender: 'female',
    weight: 'heavy',
    colors: ['camel', 'ivory', 'gray'],
  },
  {
    _id: 'toteme-blazer-f',
    name: 'Oversized Blazer',
    brand: 'Totême',
    category: 'Outerwear',
    price: 790,
    style_archetypes: ['quiet-luxury', 'minimalist', 'old-money'],
    description: 'Scandinavian quiet luxury. Sharp shoulders, soft power.',
    image_url: 'https://images.unsplash.com/photo-1591369822096-ffd140ec948f?w=400',
    buy_link: 'https://toteme-studio.com/',
    gender: 'female',
    weight: 'medium',
    colors: ['black', 'navy', 'cream'],
  },
  // Streetwear/Creative - Female
  {
    _id: 'ganni-sweater-f',
    name: 'Chunky Knit Sweater',
    brand: 'Ganni',
    category: 'Tops',
    price: 425,
    style_archetypes: ['streetwear', 'avant-garde'],
    description: 'Copenhagen cool. Playful but polished.',
    image_url: 'https://images.unsplash.com/photo-1576566588028-4147f3842f27?w=400',
    buy_link: 'https://ganni.com/',
    gender: 'female',
    weight: 'medium',
    colors: ['pink', 'green', 'blue', 'black'],
  },
  {
    _id: 'jacquemus-bag-f',
    name: 'Le Chiquito Mini Bag',
    brand: 'Jacquemus',
    category: 'Accessories',
    price: 565,
    style_archetypes: ['streetwear', 'avant-garde'],
    description: 'The tiny bag that started a movement.',
    image_url: 'https://images.unsplash.com/photo-1566150905458-1bf1fc113f0d?w=400',
    buy_link: 'https://jacquemus.com/',
    gender: 'female',
    weight: 'light',
    colors: ['white', 'black', 'pink', 'orange'],
  },
  {
    _id: 'new-balance-550-f',
    name: '550 Sneakers',
    brand: 'New Balance',
    category: 'Footwear',
    price: 130,
    style_archetypes: ['streetwear', 'minimalist', 'athleisure'],
    description: 'The sneaker that took over fashion week.',
    image_url: 'https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?w=400',
    buy_link: 'https://newbalance.com/',
    gender: 'female',
    weight: 'medium',
    colors: ['white', 'green', 'navy', 'gray'],
  },
  // Minimalist - Female
  {
    _id: 'cos-dress-f',
    name: 'Pleated Midi Dress',
    brand: 'COS',
    category: 'Dresses',
    price: 175,
    style_archetypes: ['minimalist', 'quiet-luxury'],
    description: 'Effortless elegance. Works for everything.',
    image_url: 'https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=400',
    buy_link: 'https://cos.com/',
    gender: 'female',
    weight: 'light',
    colors: ['black', 'navy', 'cream', 'gray'],
  },
  {
    _id: 'everlane-day-heel-f',
    name: 'The Day Heel',
    brand: 'Everlane',
    category: 'Footwear',
    price: 155,
    style_archetypes: ['minimalist', 'classic-prep', 'quiet-luxury'],
    description: 'The comfortable heel that actually exists.',
    image_url: 'https://images.unsplash.com/photo-1596703263926-eb0762ee17e4?w=400',
    buy_link: 'https://everlane.com/',
    gender: 'female',
    weight: 'light',
    colors: ['black', 'nude', 'burgundy'],
  },
  {
    _id: 'apc-halfmoon-f',
    name: 'Half-Moon Bag',
    brand: 'A.P.C.',
    category: 'Accessories',
    price: 495,
    style_archetypes: ['minimalist', 'quiet-luxury'],
    description: 'French minimalism. Clean, classic, perfect.',
    image_url: 'https://images.unsplash.com/photo-1548036328-c9fa89d128fa?w=400',
    buy_link: 'https://apc.fr/',
    gender: 'female',
    weight: 'light',
    colors: ['black', 'tan', 'chestnut'],
  },
  // Athleisure - Female
  {
    _id: 'alo-yoga-set-f',
    name: 'Airlift Leggings',
    brand: 'Alo Yoga',
    category: 'Bottoms',
    price: 118,
    style_archetypes: ['athleisure', 'minimalist'],
    description: 'Studio to street. The LA uniform.',
    image_url: 'https://images.unsplash.com/photo-1538805060514-97d9cc17730c?w=400',
    buy_link: 'https://aloyoga.com/',
    gender: 'female',
    weight: 'light',
    colors: ['black', 'gray', 'navy', 'burgundy'],
  },
  {
    _id: 'lululemon-define-f',
    name: 'Define Jacket',
    brand: 'Lululemon',
    category: 'Outerwear',
    price: 128,
    style_archetypes: ['athleisure'],
    description: 'The WFH essential. Flattering on everyone.',
    image_url: 'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=400',
    buy_link: 'https://lululemon.com/',
    gender: 'female',
    weight: 'light',
    colors: ['black', 'navy', 'gray', 'burgundy'],
  },
  // More Female Products - Tech Founder Style
  {
    _id: 'loro-piana-loafers-f',
    name: 'Summer Charms Walk Loafers',
    brand: 'Loro Piana',
    category: 'Footwear',
    price: 995,
    style_archetypes: ['quiet-luxury', 'old-money', 'minimalist'],
    description: 'The ultimate quiet flex for women. Effortlessly chic.',
    image_url: 'https://images.unsplash.com/photo-1560343090-f0409e92791a?w=400',
    buy_link: 'https://loropiana.com/',
    gender: 'female',
    weight: 'light',
    colors: ['tan', 'cream', 'navy', 'blush'],
  },
  {
    _id: 'cucinelli-cashmere-f',
    name: 'Cashmere V-Neck Sweater',
    brand: 'Brunello Cucinelli',
    category: 'Tops',
    price: 1590,
    style_archetypes: ['quiet-luxury', 'old-money', 'minimalist'],
    description: 'The female founder uniform. Understated Italian luxury.',
    image_url: 'https://images.unsplash.com/photo-1485968579580-b6d095142e6e?w=400',
    buy_link: 'https://brunellocucinelli.com/',
    gender: 'female',
    weight: 'medium',
    colors: ['oatmeal', 'gray', 'navy', 'blush'],
  },
  {
    _id: 'max-mara-coat-f',
    name: 'Madame Wool Coat',
    brand: 'Max Mara',
    category: 'Outerwear',
    price: 2690,
    style_archetypes: ['quiet-luxury', 'old-money', 'minimalist'],
    description: 'The iconic investment coat. Timeless power dressing.',
    image_url: 'https://images.unsplash.com/photo-1520012218364-3dbe62c99bee?w=400',
    buy_link: 'https://maxmara.com/',
    gender: 'female',
    weight: 'heavy',
    colors: ['camel', 'black', 'gray'],
  },
  {
    _id: 'celine-trio-f',
    name: 'Trio Bag',
    brand: 'Celine',
    category: 'Accessories',
    price: 1350,
    style_archetypes: ['quiet-luxury', 'minimalist', 'old-money'],
    description: 'Minimal perfection. The Phoebe Philo era classic.',
    image_url: 'https://images.unsplash.com/photo-1590874103328-eac38a683ce7?w=400',
    buy_link: 'https://celine.com/',
    gender: 'female',
    weight: 'light',
    colors: ['black', 'tan', 'burgundy'],
  },
  {
    _id: 'reformation-dress-f',
    name: 'Juliette Dress',
    brand: 'Reformation',
    category: 'Dresses',
    price: 248,
    style_archetypes: ['minimalist', 'classic-prep'],
    description: 'Sustainable and flattering. LA meets NY.',
    image_url: 'https://images.unsplash.com/photo-1496747611176-843222e1e57c?w=400',
    buy_link: 'https://thereformation.com/',
    gender: 'female',
    weight: 'light',
    colors: ['black', 'white', 'sage', 'terracotta'],
  },
  {
    _id: 'veja-esplar-f',
    name: 'Esplar Sneakers',
    brand: 'Veja',
    category: 'Footwear',
    price: 135,
    style_archetypes: ['minimalist', 'athleisure', 'quiet-luxury'],
    description: 'Ethical French sneakers. The conscious choice.',
    image_url: 'https://images.unsplash.com/photo-1595341888016-a392ef81b7de?w=400',
    buy_link: 'https://veja-store.com/',
    gender: 'female',
    weight: 'light',
    colors: ['white', 'gray', 'black'],
  },
  {
    _id: 'khaite-cashmere-f',
    name: 'Scarlet Cashmere Cardigan',
    brand: 'Khaite',
    category: 'Tops',
    price: 1680,
    style_archetypes: ['quiet-luxury', 'old-money'],
    description: 'The cardigan that broke the internet. Worth the hype.',
    image_url: 'https://images.unsplash.com/photo-1581044777550-4cfa60707c03?w=400',
    buy_link: 'https://khaite.com/',
    gender: 'female',
    weight: 'medium',
    colors: ['ivory', 'black', 'caramel'],
  },
  {
    _id: 'agolde-jeans-f',
    name: '90s Pinch Waist Jeans',
    brand: 'AGOLDE',
    category: 'Bottoms',
    price: 198,
    style_archetypes: ['minimalist', 'streetwear'],
    description: 'The perfect vintage-fit jean. A stylist favorite.',
    image_url: 'https://images.unsplash.com/photo-1541099649105-f69ad21f3246?w=400',
    buy_link: 'https://agolde.com/',
    gender: 'female',
    weight: 'medium',
    colors: ['blue', 'black', 'white'],
  },
  {
    _id: 'stand-studio-coat-f',
    name: 'Faux Shearling Coat',
    brand: 'Stand Studio',
    category: 'Outerwear',
    price: 495,
    style_archetypes: ['streetwear', 'avant-garde'],
    description: 'Statement outerwear without the guilt.',
    image_url: 'https://images.unsplash.com/photo-1544022613-e87ca75a784a?w=400',
    buy_link: 'https://standstudio.com/',
    gender: 'female',
    weight: 'heavy',
    colors: ['cream', 'brown', 'black'],
  },

  // UNISEX PRODUCTS
  // Minimalist - Unisex
  {
    _id: 'cos-wool-coat',
    name: 'Wool Blend Overcoat',
    brand: 'COS',
    category: 'Outerwear',
    price: 290,
    style_archetypes: ['minimalist', 'quiet-luxury'],
    description: 'Clean lines, impeccable fit, works with everything.',
    image_url: 'https://images.unsplash.com/photo-1539533018447-63fcce2678e3?w=400',
    buy_link: 'https://cos.com/',
    gender: 'unisex',
    weight: 'heavy',
    colors: ['black', 'camel', 'gray', 'navy'],
  },
  {
    _id: 'common-projects-achilles',
    name: 'Original Achilles Low',
    brand: 'Common Projects',
    category: 'Footwear',
    price: 425,
    style_archetypes: ['minimalist', 'quiet-luxury', 'techwear'],
    description: 'The perfect white sneaker. Gold numbers only.',
    image_url: 'https://images.unsplash.com/photo-1549298916-b41d501d3772?w=400',
    buy_link: 'https://commonprojects.com/',
    gender: 'unisex',
    weight: 'light',
    colors: ['white', 'black', 'gray'],
  },
  {
    _id: 'uniqlo-u-tee',
    name: 'U Crew Neck T-Shirt',
    brand: 'Uniqlo U',
    category: 'Tops',
    price: 20,
    style_archetypes: ['minimalist', 'streetwear', 'techwear'],
    description: 'Lemaire-designed basics. Best tee for the price.',
    image_url: 'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400',
    buy_link: 'https://uniqlo.com/',
    gender: 'unisex',
    weight: 'light',
    colors: ['white', 'black', 'gray', 'navy', 'olive'],
  },
  // Avant-Garde - Unisex
  {
    _id: 'rick-owens-ramones',
    name: 'Ramones High-Top',
    brand: 'Rick Owens',
    category: 'Footwear',
    price: 1150,
    style_archetypes: ['avant-garde', 'streetwear'],
    description: 'Chunky, dark, unmistakably Rick.',
    image_url: 'https://images.unsplash.com/photo-1551107696-a4b0c5a0d9a2?w=400',
    buy_link: 'https://rickowens.eu/',
    gender: 'unisex',
    weight: 'medium',
    colors: ['black', 'white'],
  },
  {
    _id: 'cdg-play-tee',
    name: 'Play Heart Logo T-Shirt',
    brand: 'Comme des Garçons',
    category: 'Tops',
    price: 125,
    style_archetypes: ['avant-garde', 'streetwear'],
    description: 'Entry point to CDG. The heart knows.',
    image_url: 'https://images.unsplash.com/photo-1576566588028-4147f3842f27?w=400',
    buy_link: 'https://comme-des-garcons.com/',
    gender: 'unisex',
    weight: 'light',
    colors: ['white', 'black', 'navy'],
  },
  // Workwear/Streetwear - Unisex
  {
    _id: 'carhartt-wip-jacket',
    name: 'Michigan Chore Coat',
    brand: 'Carhartt WIP',
    category: 'Outerwear',
    price: 215,
    style_archetypes: ['streetwear', 'minimalist'],
    description: 'Workwear heritage meets streetwear cool.',
    image_url: 'https://images.unsplash.com/photo-1591047139829-d91aecb6caea?w=400',
    buy_link: 'https://carhartt-wip.com/',
    gender: 'unisex',
    weight: 'medium',
    colors: ['brown', 'black', 'navy', 'beige'],
  },
  {
    _id: 'everlane-chinos',
    name: 'Performance Chino',
    brand: 'Everlane',
    category: 'Bottoms',
    price: 78,
    style_archetypes: ['minimalist', 'classic-prep'],
    description: 'Stretchy, breathable, looks good everywhere.',
    image_url: 'https://images.unsplash.com/photo-1473966968600-fa801b869a1a?w=400',
    buy_link: 'https://everlane.com/',
    gender: 'unisex',
    weight: 'light',
    colors: ['khaki', 'navy', 'black', 'gray'],
  },
  {
    _id: 'new-balance-990',
    name: '990v6 Made in USA',
    brand: 'New Balance',
    category: 'Footwear',
    price: 200,
    style_archetypes: ['minimalist', 'quiet-luxury', 'athleisure'],
    description: 'Dad shoe that became a fashion icon. Grey is the new black.',
    image_url: 'https://images.unsplash.com/photo-1539185441755-769473a23570?w=400',
    buy_link: 'https://newbalance.com/',
    gender: 'unisex',
    weight: 'medium',
    colors: ['gray', 'navy', 'black'],
  },
  // More budget-friendly options
  {
    _id: 'muji-linen-shirt',
    name: 'Organic Linen Shirt',
    brand: 'Muji',
    category: 'Tops',
    price: 50,
    style_archetypes: ['minimalist', 'quiet-luxury'],
    description: 'Japanese simplicity. Summer essential.',
    image_url: 'https://images.unsplash.com/photo-1596755094514-f87e34085b2c?w=400',
    buy_link: 'https://muji.com/',
    gender: 'unisex',
    weight: 'light',
    colors: ['white', 'navy', 'beige', 'gray'],
  },
  {
    _id: 'uniqlo-ultralight-down',
    name: 'Ultra Light Down Jacket',
    brand: 'Uniqlo',
    category: 'Outerwear',
    price: 80,
    style_archetypes: ['minimalist', 'athleisure'],
    description: 'Packs into itself. The traveler\'s best friend.',
    image_url: 'https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400',
    buy_link: 'https://uniqlo.com/',
    gender: 'unisex',
    weight: 'light',
    colors: ['black', 'navy', 'olive', 'wine'],
  },
];

export async function seedDatabase(uri: string) {
  const client = new MongoClient(uri);

  try {
    await client.connect();
    const db = client.db('drip-agent');

    console.log('Seeding database...');

    // Clear existing data
    await db.collection('archetypes').deleteMany({});
    await db.collection('products').deleteMany({});

    // Insert archetypes
    await db.collection('archetypes').insertMany(ARCHETYPES as unknown as Document[]);
    console.log(`Inserted ${ARCHETYPES.length} archetypes`);

    // Insert products
    await db.collection('products').insertMany(PRODUCTS as unknown as Document[]);
    console.log(`Inserted ${PRODUCTS.length} products`);

    console.log('\nDatabase seeded successfully!');

  } finally {
    await client.close();
  }
}

// Export for API route
export { ARCHETYPES, PRODUCTS };
